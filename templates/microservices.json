{
  "name": "Microservices Architecture",
  "layers": [
    {
      "id": 1,
      "name": "API Gateway",
      "type": "API",
      "status": "Active",
      "description": "Entry point for all requests",
      "technology": "Kong/NGINX",
      "responsibilities": "Route, authenticate, rate limit",
      "connections": [2, 3, 4],
      "dependencies": [],
      "visible": true,
      "locked": false,
      "costModel": {
        "currency": "USD",
        "period": "month",
        "fixedCost": 500,
        "variableCost": 0.00000001,
        "variableUnit": "per-request",
        "notes": "Gateway infrastructure"
      },
      "substacks": []
    },
    {
      "id": 2,
      "name": "User Service",
      "type": "Backend",
      "status": "Active",
      "description": "User management",
      "technology": "Node.js",
      "responsibilities": "User CRUD operations",
      "connections": [5],
      "dependencies": [1],
      "visible": true,
      "locked": false,
      "costModel": {
        "currency": "USD",
        "period": "month",
        "fixedCost": 200,
        "variableCost": 0,
        "variableUnit": "per-request",
        "notes": "Microservice compute"
      },
      "substacks": []
    },
    {
      "id": 3,
      "name": "Order Service",
      "type": "Backend",
      "status": "Active",
      "description": "Order processing",
      "technology": "Java Spring",
      "responsibilities": "Order management",
      "connections": [6],
      "dependencies": [1],
      "visible": true,
      "locked": false,
      "costModel": {
        "currency": "USD",
        "period": "month",
        "fixedCost": 250,
        "variableCost": 0,
        "variableUnit": "per-request",
        "notes": "Microservice compute"
      },
      "substacks": []
    },
    {
      "id": 4,
      "name": "Payment Service",
      "type": "Backend",
      "status": "Active",
      "description": "Payment processing",
      "technology": "Python",
      "responsibilities": "Handle payments",
      "connections": [7],
      "dependencies": [1],
      "visible": true,
      "locked": false,
      "costModel": {
        "currency": "USD",
        "period": "month",
        "fixedCost": 300,
        "variableCost": 0,
        "variableUnit": "per-request",
        "notes": "Microservice compute"
      },
      "substacks": []
    },
    {
      "id": 5,
      "name": "User DB",
      "type": "Database",
      "status": "Active",
      "description": "User data",
      "technology": "PostgreSQL",
      "responsibilities": "Store user data",
      "connections": [],
      "dependencies": [2],
      "visible": true,
      "locked": false,
      "costModel": {
        "currency": "USD",
        "period": "month",
        "fixedCost": 150,
        "variableCost": 0.0001,
        "variableUnit": "per-gb-month",
        "notes": "Database instance"
      },
      "substacks": []
    },
    {
      "id": 6,
      "name": "Order DB",
      "type": "Database",
      "status": "Active",
      "description": "Order data",
      "technology": "MongoDB",
      "responsibilities": "Store orders",
      "connections": [],
      "dependencies": [3],
      "visible": true,
      "locked": false,
      "costModel": {
        "currency": "USD",
        "period": "month",
        "fixedCost": 200,
        "variableCost": 0.00000005,
        "variableUnit": "per-write",
        "notes": "NoSQL database"
      },
      "substacks": []
    },
    {
      "id": 7,
      "name": "Payment DB",
      "type": "Database",
      "status": "Active",
      "description": "Payment data",
      "technology": "PostgreSQL",
      "responsibilities": "Store transactions",
      "connections": [],
      "dependencies": [4],
      "visible": true,
      "locked": false,
      "costModel": {
        "currency": "USD",
        "period": "month",
        "fixedCost": 150,
        "variableCost": 0.0001,
        "variableUnit": "per-gb-month",
        "notes": "Database instance"
      },
      "substacks": []
    }
  ],
  "usePaths": [
    {
      "id": "login",
      "name": "User Login",
      "description": "User authentication",
      "layersInvolved": [1, 2, 5],
      "avgCallsPerLayer": {
        "1": 1,
        "2": 1,
        "5": 1
      },
      "notes": "Login through API gateway to user service"
    },
    {
      "id": "create-order",
      "name": "Create Order",
      "description": "Place a new order",
      "layersInvolved": [1, 3, 6],
      "avgCallsPerLayer": {
        "1": 1,
        "3": 1,
        "6": 1
      },
      "notes": "Order creation through API gateway"
    },
    {
      "id": "process-payment",
      "name": "Process Payment",
      "description": "Payment processing",
      "layersInvolved": [1, 4, 7],
      "avgCallsPerLayer": {
        "1": 1,
        "4": 1,
        "7": 1
      },
      "notes": "Payment through API gateway to payment service"
    }
  ]
}
